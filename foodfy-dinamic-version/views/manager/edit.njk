{% extends "layout.njk" %}

{% block head %}
  <title>Editar Receita</title>
{% endblock %}

{% block header %}
  <header class="header-manager">
    <div class="menu-manager">
      <div class="logo-manager">
        <a href="/admin/receitas">
          <img src="/assets/logo-manager.png" alt="Logo foodfy">
        </a>
      </div>
    </div>
  </header>
{% endblock %}

{% block content %}
  <section class="details">

    <form method="POST" action="/admin/receitas?_method=PUT">

      <h3>Editando Receita</h3>

      <div class="item">
        <div>Imagem da receita</div>
        <div>
          <input type="text" name="image" placeholder="http://" value="{{ recipe.image }}">
        </div>
      </div>

      <div class="item">
        <div>Título da receita</div>
        <div>
          <input type="text" name="title" placeholder="Nome da receita" value="{{ recipe.title }}">
        </div>
      </div>

      <div class="item">
        <div>Autor da receita</div>
        <div>
          <input type="text" name="author" placeholder="Nome do autor" value="{{ recipe.author }}">
        </div>
      </div>

      <div class="item" id="ingredients">
        <div>Ingredientes</div>
        <div class="ingredient">
          {% for ingredient in recipe.ingredients %}
            <input type="text" name="ingredients[]" placeholder="Incluir um ingrediente por vez" value="{{ ingredient }}">
          {% endfor %}
        </div>
      </div>
      <button type="button" class="add-ingredient">Adicionar novo ingrediente</button>

      <div class="item" id="preparos">
        <div>Modo de preparo</div>
        <div class="preparo">
          {% for preparation in recipe.preparation %}
            <input type="text" name="preparation[]" placeholder="Incluir um passo por vez" value="{{ preparation }}">
          {% endfor %}
        </div>
      </div>
      <button type="button" class="add-preparo">Adicionar novo passo</button>

      <div class="item">
        <div>Informações adicionais</div>
        <div>
          <textarea name="information" cols="30" rows="10">{{ recipe.information }}</textarea>
        </div>
      </div>

      <input type="hidden" name="id" value="{{ recipe.id }}">

      <button type="submit">Salvar Receita</button>
    </form>

    <form id="form-delete" method="POST" action="/admin/receitas?_method=DELETE">
      <input type="hidden" name="id" value="{{ recipe.id }}">

      <button type="submit">Deletar</button>
    </form>

  </section>
{% endblock %}